<div class="container py-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="fw-bold">ðŸ“‚ Categories</h2>
    @if (hasCreatePermission) {
      <button type="button" class="btn btn-primary shadow-sm" routerLink="/categories/add">
        <i class="bi bi-plus-circle me-1"></i> Add Category
      </button>
    }
  </div>

  <div class="table-responsive shadow-sm rounded">
    <table class="table table-hover align-middle mb-0 bg-white rounded overflow-hidden">
      <thead class="table-light">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Title</th>
          <th scope="col">Created At</th>
          @if (hasUpdatePermission) {
            <th scope="col">Actions</th>
          }
        </tr>
      </thead>
      <tbody>
        @for (category of categories; track $index) {
          <tr>
            <th scope="row">{{ category.id }}</th>
            <td class="fw-medium">{{ category.title }}</td>
            <td>
              <span class="text-muted small">
                {{ category.createdAt*1000 | date:'medium' }}
              </span>
            </td>
            @if (hasUpdatePermission) {
              <td>
                <button class="btn btn-sm btn-outline-secondary" routerLink="/categories/{{category.id}}">
                  <i class="bi bi-pencil"></i> Edit
                </button>
              </td>
            }
          </tr>
        }
      </tbody>
    </table>
  </div>

  <hr class="my-5" />
  <app-page-nav [page]="page" (pageChangedEvent)="getPage($event)"></app-page-nav>
</div>
